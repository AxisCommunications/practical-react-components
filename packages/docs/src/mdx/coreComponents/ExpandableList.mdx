export const meta = {
  name: 'ExpandableList',
  route: '/components/expandablelist',
  menu: 'Components',
}

import { useState } from 'react'
import styled from 'styled-components'

import { DeviceIcon } from 'practical-react-components-icons'
import { ExpandableList, Typography } from 'practical-react-components-core'

# ExpandableList

ExpandableList creates a list where an option can be 'clicked' in order to expand it into a sub-list.

## Demo

export const ITEMS = [
  {
    id: 'devices',
    label: 'Devices',
    icon: DeviceIcon,
  },
  {
    id: 'category',
    label: 'Category',
    icon: DeviceIcon,
    selected: true,
    items: [
      {
        id: 'category-item-1',
        label: 'Item 1',
        icon: DeviceIcon,
      },
      {
        id: 'category-something-2',
        label: 'Something 2',
        icon: DeviceIcon,
      },
      {
        id: 'category-something-else-3',
        label: 'Something else 3',
        icon: DeviceIcon,
      },
      {
        id: 'category-entirely-different-thing',
        label: 'Entirely different thing',
        icon: DeviceIcon,
      },
      {
        id: 'category-and-this-thing',
        label: 'And this thing',
        icon: DeviceIcon,
      },
      {
        id: 'category-also-this',
        label: 'Also this',
        icon: DeviceIcon,
      },
    ],
  },
  {
    id: 'site-log',
    label: 'Site log',
    icon: DeviceIcon,
    items: [
      {
        id: 'site-log-item-1',
        label: 'Item 1',
        icon: DeviceIcon,
      },
      {
        id: 'site-log-something-2',
        label: 'Something 2',
        icon: DeviceIcon,
      },
      {
        id: 'site-log-something-else-3',
        label: 'Something else 3',
        icon: DeviceIcon,
      },
      {
        id: 'site-log-entirely-different-thing',
        label: 'Entirely different thing',
        icon: DeviceIcon,
      },
      {
        id: 'site-log-and-this-thing',
        label: 'And this thing',
        icon: DeviceIcon,
      },
      {
        id: 'site-log-also-this',
        label: 'Also this',
        icon: DeviceIcon,
      },
    ],
  },
  {
    id: 'something-else',
    label: 'Something else',
    icon: DeviceIcon,
  },
]

export const Container = styled.div`
  width: 256px;
`

export const DemoContainer = styled.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-gap: 32px;
`

export const DemoContainerItem = styled.div`
  display: grid;
  grid-template-rows: auto 1fr;
  grid-gap: 16px;
`

export const DemoComponent = ({}) => {
  const [selectedItem, setSelectedItem] = useState('none')
  const listItems = ITEMS.map(item => {
    return {
      ...item,
      selected: selectedItem === item.id,
      onClick: () => {
        setSelectedItem(item.id)
      },
      items:
        item.items !== undefined
          ? item.items.map(subItem => {
              return {
                ...subItem,
                selected: selectedItem === subItem.id,
                onClick: () => {
                  setSelectedItem(subItem.id)
                },
              }
            })
          : undefined,
    }
  })
  return (
    <Container>
      <ExpandableList items={listItems} />
    </Container>
  )
}

export const DemoComponentAccordion = ({}) => {
  const [selectedItem, setSelectedItem] = useState('none')
  const listItems = ITEMS.map(item => {
    return {
      ...item,
      selected: selectedItem === item.id,
      onClick: () => {
        setSelectedItem(item.id)
      },
      items:
        item.items !== undefined
          ? item.items.map(subItem => {
              return {
                ...subItem,
                selected: selectedItem === subItem.id,
                onClick: () => {
                  setSelectedItem(subItem.id)
                },
              }
            })
          : undefined,
    }
  })
  return (
    <Container>
      <ExpandableList items={listItems} accordion={true} />
    </Container>
  )
}

export const onClick = () => {}

<DemoContainer>
  <DemoContainerItem>
    <Typography variant="card-title">Expandable list</Typography>
    <DemoComponent />
  </DemoContainerItem>
  <DemoContainerItem>
    <Typography variant="card-title">Expandable list accordion</Typography>
    <DemoComponentAccordion />
  </DemoContainerItem>
</DemoContainer>

## Basic usage

```typescript type=live
<ExpandableList
  items={[
    {
      id: 'devices',
      label: 'Devices',
      icon: DeviceIcon,
    },
    {
      id: 'category',
      label: 'Category',
      icon: DeviceIcon,
      selected: true,
      items: [
        {
          id: 'item-1',
          label: 'Item 1',
          icon: DeviceIcon,
        },
        {
          id: 'something-2',
          label: 'Something 2',
          icon: DeviceIcon,
        },
      ],
    },
  ]}
/>
```

## ExpandableList Props

ExpandableList forwards all unknown props to the base native `<div>` component. See
[`<div>` on MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div) for more
details on which additional props that are available.

<Props of="ExpandableList" />

## ExpandableListItem Props

ExpandableListItem forwards all unknown props to the base native `<div>` component. See
[`<div>` on MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div) for more
details on which additional props that are available.

<Props of="ExpandableListItem" />
