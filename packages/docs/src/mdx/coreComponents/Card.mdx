export const meta = {
  name: 'Card âœ”',
  route: '/components/card',
  menu: 'Components',
}

import { useState, useCallback } from 'react'
import styled from 'styled-components'
import {
  Typography,
  Button,
  Switch,
  Divider,
  shape,
  componentSize,
  Icon,
  FoldTransition,
  TextInputField,
  RadioButton,
  RadioButtonGroup,
  FormSection,
  ContentListItem,
  ContentListItemWithHover,
  ContentDivider,
  SpaceBlock,
  TextBlock,
  Card,
  CardHeader,
  CardHeaderTypography,
  CardSubHeaderTypography,
  CardContent,
  CardFooter,
  CardPlainContent,
  CardExpandableHeader,
  CardTabs,
  CardFooterSpacer,
  Menu,
} from 'practical-react-components-core'
import {
  ImagePlaceholderIcon,
  MoreVertIcon,
} from 'practical-react-components-icons'

import { smallParagraphFixture } from '../fixtures/paragraphs'

# Card

Cards contain content and actions about a single subject.

## Demo

export const Triangle = styled.span`
  display: inline-block;
  width: 0;
  height: 0;
  border-color: ${({ theme }) => theme.color.elementWarning()} transparent transparent
    ${({ theme }) => theme.color.elementWarning()};
  border-radius: ${shape.radius.large} 0 0 0;
  border-style: solid;
  border-width: 13px;
  position: absolute;
  top: 2px;
  left: 2px;
`

export const Dot = styled.span`
  display: block;
  width: 12px;
  height: 12px;
  background-color: ${({ theme }) => theme.color.elementSuccess()};
  border-radius: ${shape.radius.circle};
`

export const Wrapper = styled.div`
  padding: 2px;
  display: inline-grid;
  grid-gap: 10px;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  width: 100%;
`

export const HalfWrapper = styled(Wrapper)`
  width: 50%;
`

export const OutsideTabsContainer = styled.div`
  height: calc(100% - 32px);
  display: flex;
  flex-direction: column;
`

export const OutsideHeader = styled(Typography).attrs({
  variant: 'group-title',
})`
  display: flex;
  align-items: center;
  height: ${componentSize.large};
  color: ${({ theme }) => theme.color.text05()};
`

export const HeaderWithMenuWrapper = styled.div`
  display: grid;
  grid-template-columns: 1fr auto;
  width: 100%;
  align-items: center;
`

export const HeaderIcon = styled(Icon)`
  width: 72px;
  height: 100%;
  margin-left: -24px;
  svg {
    width: 24px;
    height: 24px;
  }
`

export const CardHeaderTabs = styled(CardHeader)`
  padding: 0;
  height: 48px;
`

export const CardHeaderWithTriablge = styled(CardHeader)`
  position: relative;
`

export const HeaderTriablgeWithMenuWrapper = styled.div`
  display: grid;
  grid-template-columns: auto 1fr auto;
  width: 100%;
  align-items: center;
  grid-gap: 16px;
`

export const ExpandableHeaderWrapper = styled.div`
  display: grid;
  grid-template-columns: auto 1fr;
`

export const fruitOptions = [
  { value: 'apple', label: 'Apple' },
  { value: 'banana', label: 'Banana' },
  { value: 'pie', label: 'Pie', disabled: true },
]

export const tabs = [
  { value: 'blue', label: 'Blue' },
  { value: 'yellow', label: 'Yellow' },
  { value: 'green', label: 'Green', disabled: true },
  { value: 'white', label: 'White' },
]

export const RadioSelectableListItem = () => {
  const [hovered, setHovered] = useState(false)
  const onSelect = () => {}
  const [selected, setSelected] = useState('all')
  const handleSelect = useCallback(value => {
    onSelect(value)
    setSelected(value)
  }, [])
  return (
    <ContentListItemWithHover onHover={setHovered}>
      <RadioButton
        name={name}
        value="me"
        label="Content ListItem"
        onValueChange={handleSelect}
        partial={selected === 'all'}
        checked={selected === 'me'}
        hovered={hovered}
      />
      <Typography>Second content</Typography>
    </ContentListItemWithHover>
  )
}

export const DemoComponent = ({}) => {
  const [value, setValue] = useState(false)
  const [valueText, setValueText] = useState('')
  const [isExpanded, setExpanded] = useState(true)
  const onClick = useCallback(() => {}, [])
  const onSelect = () => {}
  const [selected, setSelected] = useState('all')
  const [tab, setTab] = useState('yellow')
  const handleSelect = useCallback(value => {
    onSelect(value)
    setSelected(value)
  }, [])
  return (
    <>
      <Wrapper>
        <Card>
          <CardHeader>
            <CardHeaderTypography>Small height header</CardHeaderTypography>
          </CardHeader>
          <CardContent>
            <Typography>Card content</Typography>
          </CardContent>
          <CardFooter>
            <Typography variant="button-text">Go somewhere</Typography>
          </CardFooter>
        </Card>
        <Card>
          <CardHeader>
            <HeaderWithMenuWrapper>
              <CardHeaderTypography>With menu</CardHeaderTypography>
              <Menu
                icon={MoreVertIcon}
                items={[
                  { label: 'Blue', onClick },
                  { label: 'Yellow', onClick },
                  {
                    label: 'Green',
                    onClick,
                    divider: true,
                  },
                  { label: 'White', onClick },
                ]}
              />
            </HeaderWithMenuWrapper>
          </CardHeader>
          <CardContent>
            <Typography variant="default-text">
              {smallParagraphFixture}
            </Typography>
            <Typography variant="default-text">Default text</Typography>
          </CardContent>
          <CardFooter>
            <Button onClick={onClick} label="Action 1" />
          </CardFooter>
        </Card>
        <Card>
          <CardHeader>
            <HeaderIcon icon={ImagePlaceholderIcon} />
            <CardHeaderTypography>With image</CardHeaderTypography>
          </CardHeader>
          <CardContent>
            <Typography>Card content</Typography>
          </CardContent>
          <CardFooter>
            <Button onClick={onClick} label="Action 1" />
          </CardFooter>
        </Card>
        <Card>
          <CardHeaderTabs>
            <CardTabs
              variant="inside"
              options={tabs}
              value={tab}
              onChange={setTab}
            />
          </CardHeaderTabs>
          <CardContent>
            <Typography>Card content</Typography>
          </CardContent>
          <CardFooter>
            <Button onClick={onClick} label="Action 1" />
          </CardFooter>
        </Card>
        <Card>
          <CardHeaderTabs>
            <CardTabs
              variant="inside"
              options={tabs}
              value={tab}
              onChange={setTab}
              hasBackground={true}
            />
          </CardHeaderTabs>
          <CardContent>
            <Typography>Card content</Typography>
          </CardContent>
          <CardFooter>
            <Button onClick={onClick} label="Action 1" />
          </CardFooter>
        </Card>
        <OutsideTabsContainer>
          <CardTabs
            variant="outside"
            options={tabs}
            value={tab}
            onChange={setTab}
          />
          <Card>
            <CardContent>
              <Typography>Card content</Typography>
            </CardContent>
            <CardFooter></CardFooter>
          </Card>
        </OutsideTabsContainer>
        <Card square={false}>
          <CardHeaderWithTriablge>
            <HeaderTriablgeWithMenuWrapper>
              <div>
                <Triangle />
                <Dot />
              </div>
              <CardHeaderTypography>
                With image(s) and with menu
              </CardHeaderTypography>
              <Menu
                icon={MoreVertIcon}
                items={[
                  { label: 'Blue', onClick },
                  { label: 'Yellow', onClick },
                  {
                    label: 'Green',
                    onClick,
                    divider: true,
                  },
                  { label: 'White', onClick },
                ]}
              />
            </HeaderTriablgeWithMenuWrapper>
          </CardHeaderWithTriablge>
          <CardContent>
            <Typography>Card content</Typography>
          </CardContent>
          <CardFooter>
            <Button onClick={onClick} label="Action 1" />
            <Button onClick={onClick} label="Action 2" variant="secondary" />
            <CardFooterSpacer />
            <Switch checked={value} onValueChange={setValue} />
            <Typography>Input label</Typography>
          </CardFooter>
        </Card>
        <Card>
          <CardExpandableHeader
            subhead="Sub heading"
            height="large"
            icon={<Icon icon={ImagePlaceholderIcon} size="large" />}
            expanded={isExpanded}
            onToggle={setExpanded}
          >
            <ExpandableHeaderWrapper>
              <HeaderIcon icon={ImagePlaceholderIcon} />
              <div>
                <CardHeaderTypography>Expandable header</CardHeaderTypography>
                <CardSubHeaderTypography>Sub heading</CardSubHeaderTypography>
              </div>
            </ExpandableHeaderWrapper>
          </CardExpandableHeader>
          <FoldTransition expanded={isExpanded}>
            <CardContent>
              <Typography>Card content</Typography>
            </CardContent>
            <CardFooter>
              <Button onClick={onClick} label="Action 1" />
              <Button onClick={onClick} label="Action 2" variant="secondary" />
            </CardFooter>
          </FoldTransition>
        </Card>
      </Wrapper>
      <HalfWrapper>
        <div>
          <OutsideHeader>Heading outside of card</OutsideHeader>
          <Card>
            <CardPlainContent>
              <ContentListItem listHeight="large">
                <Typography>Input label</Typography>
                <Switch checked={value} onValueChange={setValue} />
              </ContentListItem>
              <ContentDivider />
              <ContentListItem listHeight="large">
                <Typography>Input label</Typography>
                <Switch checked={value} onValueChange={setValue} />
              </ContentListItem>
              <ContentDivider />
              <FormSection>
                <TextInputField
                  label="Input label"
                  value={valueText}
                  onValueChange={setValueText}
                  placeholder="Placeholder"
                />
                <TextInputField
                  label="Input label"
                  value={valueText}
                  onValueChange={setValueText}
                  placeholder="Placeholder"
                />
              </FormSection>
              <SpaceBlock variant={32} />
              <FormSection title="Group label" />
              <ContentListItem listHeight="large">
                <Typography>Input label</Typography>
                <Switch checked={value} onValueChange={setValue} />
              </ContentListItem>
              <ContentDivider />
              <ContentListItem listHeight="large">
                <Typography>Input label</Typography>
                <Switch checked={value} onValueChange={setValue} />
              </ContentListItem>
              <ContentDivider />
              <RadioSelectableListItem />
              <ContentDivider />
              <SpaceBlock variant={8} />
              <TextBlock
                text="Available applications for installation"
                caption="Selected applications will automatically be installed and
              reinstalled if removed."
              />
              <RadioButtonGroup
                label="Select your favorite fruit"
                name="radioValue"
                options={fruitOptions}
                onChange={() => {}}
                value=""
              />
              <SpaceBlock variant={16} />
            </CardPlainContent>
          </Card>
        </div>
      </HalfWrapper>
    </>
  )
}

export const onClick = () => {}

<DemoComponent />

## Basic usage

### Card with header, content and footer

```typescript type=live
<Card width="small">
  <CardHeader>
    <CardHeaderTypography>CardHeader</CardHeaderTypography>
  </CardHeader>
  <CardContent>
    <Typography>CardContent</Typography>
  </CardContent>
  <CardFooter>
    <Typography>CardFooter</Typography>
  </CardFooter>
</Card>
```

### Examples

```typescript type=live
<Card>
  <CardPlainContent>
    <ContentListItem listHeight="large">
      <Typography>Input label</Typography>
      <Switch checked={false} onChange={() => {}} />
    </ContentListItem>
    <ContentDivider />
    <ContentListItem listHeight="large">
      <Typography>Input label</Typography>
      <Switch checked={true} onChange={() => {}} />
    </ContentListItem>
    <ContentDivider />
    <FormSection>
      <TextInputField
        label="Input label"
        value=""
        onValueChange={() => {}}
        placeholder="Placeholder"
      />
      <TextInputField
        label="Input label"
        value=""
        onValueChange={() => {}}
        placeholder="Placeholder"
      />
    </FormSection>
    <SpaceBlock variant={24} />
    <FormSection title="Group label" />
    <ContentListItem listHeight="large">
      <Typography>Input label</Typography>
      <Switch checked={false} onChange={() => {}} />
    </ContentListItem>
    <ContentDivider />
    <ContentListItem listHeight="large">
      <Typography>Input label</Typography>
      <Switch value={true} onChange={() => {}} />
    </ContentListItem>
    <ContentDivider />
    <ContentListItem>
      <RadioButton
        name=""
        value="me"
        label="Content ListItem"
        onValueChange={() => {}}
        partial={false}
        checked={true}
      />
    </ContentListItem>
    <ContentDivider />
    <SpaceBlock variant={8} />
    <TextBlock
      text="Available applications for installation"
      caption="Selected applications will automatically be installed and reinstalled if removed."
    />
    <RadioButtonGroup
      name="radioValue"
      options={[
        { value: 'apple', label: 'Apple' },
        { value: 'banana', label: 'Banana' },
        { value: 'pie', label: 'Pie', disabled: true },
      ]}
      onChange={() => {}}
      value=""
    />
    <SpaceBlock variant={16} />
  </CardPlainContent>
</Card>
```

## Card Props

Card forwards all unknown props to the base native `<div>` component. See
[`<div>` on MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div) for more
details on which additional props that are available.

<Props of="Card" />

## CardHeader Props

CardHeader forwards all unknown props to the base native `<div>` component. See
[`<div>` on MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div) for more
details on which additional props that are available.

<Props of="CardHeader" />

## CardTabs Props

CardTabs forwards all unknown props to the base native `<div>` component. See
[`<div>` on MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div) for more
details on which additional props that are available.

<Props of="CardTabs" />
